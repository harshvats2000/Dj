<!DOCTYPEhtml>
    <html>

    <head>
    <title>Dj's website</title>

    <meta charset="utf-8">
    <meta name="google" content="notranslate">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>

    <style>
        body {
            margin: 0;
            font-family: sans-serif;
            background-image: url('bgdj.jpg');
            background-repeat: no-repeat;
            background-size: cover;
        }
        .mdl-card__media > img {
            max-width: 100%;
            min-width: 100%;
            min-height: 100%;
            max-height: 100%;
        }
        .div {
            /*display: none;*/
            transition: 0.5s;
            box-shadow: 1px 1px 15px deepskyblue;

        }
        .div:hover {
            transform: scale(1.1);
            z-index: 10;
        }
        .heading {
            margin: 0px;
        }
        @media only screen and (min-width: 600px) {
            .mdl-card__media > img {
                max-height: 200px;
                min-height: 200px;
            }
        }
    </style>
</head>

<body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header
            mdl-layout--fixed-tabs">
        <header class="mdl-layout__header" style="min-height: 49px;">
            <!-- Tabs -->
            <div class="mdl-layout__tab-bar mdl-js-ripple-effect" style="height: 49px; position: fixed;">
                <a href="#fixed-tab-1" class="mdl-layout__tab is-active">Home</a>
                <a href="#fixed-tab-2" class="mdl-layout__tab">About me</a>
                <a href="#fixed-tab-3" class="mdl-layout__tab">Contact me</a>
                <a href="#fixed-tab-4" class="mdl-layout__tab">Privacy & policy</a>
            </div>
        </header>

        <main class="mdl-layout__content">

            <section class="mdl-layout__tab-panel is-active" id="fixed-tab-1">
                <div class="page-content">
                    <div style="color: white; text-align: center;">
                            <h1 class="heading">Welcome!</h1>
                    </div>
                    <div class="mdl-grid portfolio-max-width" id="myDiv" style="max-width: 900px;">


                        <!-- Creating app elements in js below -->
                    </div>
                </div>
            </section>


            <section class="mdl-layout__tab-panel" id="fixed-tab-2">
                <div class="page-content">
                    about me
                </div>
            </section>


            <section class="mdl-layout__tab-panel" id="fixed-tab-3">
                <div class="page-content">
                    contact me
                </div>
            </section>


            <section class="mdl-layout__tab-panel" id="fixed-tab-4">
                <div class="page-content">
                    privacy and policy
                </div>
            </section>
        </main>
    </div>

    <div id="heading">heading</div>
    <input type="text" id="mainText">
    <button type="submit" id="submitBtn" onclick="submitClick()">submit</button>

    <script src="https://www.gstatic.com/firebasejs/7.9.3/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.9.3/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.3.0/firebase.js"></script>

    <script>
        // Your web app's Firebase configuration
        // var firebaseConfig = {
        //     apiKey: "AIzaSyBTAgA3GyQ9T9G9suybqPSHzJ8xz4jX1JM",
        //     authDomain: "project1-bb901.firebaseapp.com",
        //     databaseURL: "https://project1-bb901.firebaseio.com",
        //     storageBucket: "project1-bb901.appspot.com",
        // };
        // // Initialize Firebase
        // firebase.initializeApp(firebaseConfig);
         var firebaseConfig = {
            apiKey: "AIzaSyApTNw-s07nB2FPoz_DAOtsGSA6tJHX7Z0",
            authDomain: "dj-s-webpage.firebaseapp.com",
            databaseURL: "https://dj-s-webpage.firebaseio.com",
            projectId: "dj-s-webpage",
            storageBucket: "dj-s-webpage.appspot.com",
        };
        firebase.initializeApp(firebaseConfig);
    </script>

    <script>

        setTimeout(() => {
            $('.heading').fadeOut(2000, "swing");
        }, 1300);

        //create ref
        var databaseRef = firebase.database().ref();
        var storageRef = firebase.storage().ref();
        var k = 1;
        
        databaseRef.on('child_added', snap => {
            var numOfChildren = snap.numChildren();//get number of apps
            var name = snap.val().name;
            var url = snap.val().url;
            //making new div
            var div1 = document.createElement('div');
            var div2 = document.createElement('div');
            var img = document.createElement('img');
            var div3 = document.createElement('div');
            var h2 = document.createElement('h2');
//             var div4 = document.createElement('div');
            var div5 = document.createElement('div');
            var a = document.createElement('a');
            div1.className = "mdl-cell mdl-card mdl-shadow--4dp portfolio-card div div1";
            div2.className = "mdl-card__media";
            img.className = "article-image";
            img.id = "img_"+k;
            img.border = "0";
            img.alt = "";    
            h2.className = "mdl-card__title-text app_"+k+"_name";
            k++;
            div3.className = "mdl-card__title";
//             div4.className = "mdl-card__supporting-text";
            div5.className = "mdl-card__actions madl-card--border";
            a.className = "mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect";
            a.text = "VIEW";
            div1.appendChild(div2);
            div1.appendChild(div3);
//             div1.appendChild(div4);
            div1.appendChild(div5);
            div2.appendChild(img);
            div3.appendChild(h2);
            div5.appendChild(a);
            var t = document.createTextNode(name);
            div3.appendChild(t);
            document.getElementById('myDiv').appendChild(div1);
            storageRef.child('images/' + url).getDownloadURL().then(function(url) {
                img.src = url;
            });
        })
    </script>
</body></html>
